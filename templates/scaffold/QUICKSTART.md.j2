# Quick Start Guide - {{ title }}

**Generated by**: GoalGen
**Goal ID**: `{{ goal_id }}`
**Version**: {{ version }}

This guide will help you get the generated project running locally in under 5 minutes.

---

## Prerequisites

- **Python 3.11+** installed
- **pip** package manager
- **(Optional)** Azure CLI for cloud deployment

---

## Local Development Setup

### 1. Create Virtual Environment

```bash
# Create virtual environment
python3 -m venv .venv

# Activate it
source .venv/bin/activate  # On macOS/Linux
# OR
.venv\Scripts\activate     # On Windows
```

### 2. Install Dependencies

```bash
# Install the frmk (framework) package
pip install -e frmk/

# Install orchestrator dependencies
pip install -r orchestrator/requirements.txt
```

**Note**: This installs all required dependencies including:
- LangGraph and LangChain
- Azure SDK packages
- FastAPI and Uvicorn
- And all other requirements

### 3. Configure Environment

Create a `.env` file in the `orchestrator/` directory:

```bash
cp orchestrator/.env.sample orchestrator/.env
```

**For local testing** (no Azure resources needed):

```bash
# orchestrator/.env
USE_MEMORY_CHECKPOINTER=true

# Optional: Add Azure OpenAI credentials if you want to test with real LLM
# AZURE_OPENAI_ENDPOINT=https://your-openai.openai.azure.com/
# AZURE_OPENAI_KEY=your-key-here
```

### 4. Run the Orchestrator Locally

```bash
cd orchestrator

# Run with uvicorn
uvicorn main:app --reload --port 8000
```

You should see:
```
INFO:     Started server process [12345]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:     Uvicorn running on http://127.0.0.1:8000
```

### 5. Test the API

Open another terminal and test:

```bash
# Health check
curl http://localhost:8000/health

# Send a message
curl -X POST http://localhost:8000/message \
  -H "Content-Type: application/json" \
  -d '{
    "thread_id": "test-123",
    "message": "{{ 'Hello! Can you help me plan a trip?' if goal_id == 'travel_planning' else 'Hello!' }}"
  }'
```

---

## Project Structure

```
{{ goal_id }}/
â”œâ”€â”€ workflow/              # LangGraph workflow code
â”‚   â”œâ”€â”€ quest_builder.py   # Main graph construction
â”‚   â”œâ”€â”€ state_schema.py    # State definition
â”‚   â”œâ”€â”€ agents/            # Agent implementations
â”‚   â””â”€â”€ evaluators/        # Validation logic
â”œâ”€â”€ orchestrator/          # FastAPI API server
â”‚   â”œâ”€â”€ main.py           # API endpoints
â”‚   â”œâ”€â”€ Dockerfile        # Container config
â”‚   â””â”€â”€ requirements.txt  # Python dependencies
â”œâ”€â”€ frmk/                  # GoalGen Framework (Core SDK)
â”‚   â”œâ”€â”€ agents/           # Base agent classes
â”‚   â”œâ”€â”€ core/             # State management, tool registry
â”‚   â””â”€â”€ tools/            # Tool implementations
â”œâ”€â”€ infra/                 # Azure Bicep templates
â”œâ”€â”€ prompts/               # Agent prompt templates
â””â”€â”€ tests/                 # Test infrastructure
```

---

## Development Workflow

### Running Tests

```bash
# Install test dependencies
pip install pytest pytest-asyncio

# Run tests
pytest tests/
```

### Building Container Image

```bash
# Build orchestrator image
cd orchestrator
docker build -t {{ goal_id }}-orchestrator:latest .
```

### Linting and Formatting

```bash
# Install dev tools
pip install black ruff

# Format code
black workflow/ orchestrator/

# Lint code
ruff check workflow/ orchestrator/
```

---

## Azure Deployment (Optional)

### Prerequisites for Azure

1. **Azure CLI** installed
2. **Azure subscription** active
3. **Logged in**: `az login`

### Deploy Infrastructure

```bash
# Set variables
RESOURCE_GROUP="rg-{{ goal_id }}-dev"
LOCATION="eastus"

# Create resource group
az group create --name $RESOURCE_GROUP --location $LOCATION

# Deploy Bicep templates
az deployment group create \
  --resource-group $RESOURCE_GROUP \
  --template-file infra/main.bicep \
  --parameters infra/parameters.json \
  --parameters environmentName=dev

# Get outputs
az deployment group show \
  --resource-group $RESOURCE_GROUP \
  --name main \
  --query properties.outputs
```

### Deploy Application

See [DEPLOYMENT_GUIDE.md](DEPLOYMENT_GUIDE.md) for detailed deployment instructions.

---

## Configuration Options

### Environment Variables

Set these in `orchestrator/.env`:

| Variable | Description | Default | Required |
|----------|-------------|---------|----------|
| `USE_MEMORY_CHECKPOINTER` | Use in-memory state (no Azure) | `false` | No |
| `AZURE_OPENAI_ENDPOINT` | Azure OpenAI endpoint | - | Yes (for LLM) |
| `AZURE_OPENAI_KEY` | Azure OpenAI API key | - | Yes (for LLM) |
| `COSMOS_ENDPOINT` | Cosmos DB endpoint | - | No (if using memory) |
| `COSMOS_KEY` | Cosmos DB key | - | No (if using memory) |
| `LOG_LEVEL` | Logging level | `INFO` | No |

### Local vs. Cloud

**Local Development (Memory Checkpointer)**:
- No Azure resources needed
- State stored in memory (lost on restart)
- Perfect for development and testing
- Set `USE_MEMORY_CHECKPOINTER=true`

**Cloud Deployment (Cosmos DB)**:
- Requires Azure Cosmos DB
- Persistent state across restarts
- Multi-instance support
- Production-ready

---

## Troubleshooting

### ImportError: No module named 'langgraph'

**Solution**: Make sure you activated the virtual environment and installed dependencies:
```bash
source .venv/bin/activate
pip install -r orchestrator/requirements.txt
```

### ImportError: No module named 'frmk'

**Solution**: Install the frmk package in editable mode:
```bash
pip install -e frmk/
```

### ModuleNotFoundError: No module named 'workflow'

**Solution**: The workflow module is in the project root. Run orchestrator from the correct directory:
```bash
# From project root
cd orchestrator
uvicorn main:app --reload
```

### Connection errors when testing

**Solution**: Make sure orchestrator is running:
```bash
# Check if running
curl http://localhost:8000/health

# If not, start it
cd orchestrator && uvicorn main:app --reload
```

---

## Next Steps

1. **Explore the Code**
   - Check `workflow/quest_builder.py` to see the LangGraph workflow
   - Review `workflow/agents/` for agent implementations
   - Read prompt templates in `prompts/`

2. **Customize Behavior**
   - Edit agent prompts in `prompts/`
   - Modify agent logic in `workflow/agents/`
   - Adjust state schema in `workflow/state_schema.py`

3. **Add Tools**
   - Implement tool logic in `tools/`
   - Register tools in agent configurations
   - Test tool execution

4. **Deploy to Azure**
   - Follow [DEPLOYMENT_GUIDE.md](DEPLOYMENT_GUIDE.md)
   - Set up CI/CD with GitHub Actions
   - Configure monitoring and alerts

---

## Getting Help

- **Documentation**: See [README.md](README.md) for architecture overview
- **Deployment**: See [DEPLOYMENT_GUIDE.md](DEPLOYMENT_GUIDE.md) for Azure setup
- **Prompts**: See [PROMPT_DEVELOPMENT.md](PROMPT_DEVELOPMENT.md) for prompt engineering
- **Issues**: Check generated code or report to GoalGen project

---

## Quick Command Reference

```bash
# Setup
python3 -m venv .venv && source .venv/bin/activate
pip install -e frmk/ && pip install -r orchestrator/requirements.txt

# Run locally
cd orchestrator && USE_MEMORY_CHECKPOINTER=true uvicorn main:app --reload

# Test
curl -X POST http://localhost:8000/message -H "Content-Type: application/json" \
  -d '{"thread_id": "test", "message": "Hello"}'

# Build
docker build -t {{ goal_id }}-orchestrator orchestrator/

# Deploy
az deployment group create --resource-group rg-{{ goal_id }}-dev \
  --template-file infra/main.bicep --parameters infra/parameters.json
```

---

**Happy Coding! ðŸš€**

*This guide was auto-generated by GoalGen. For more information, visit [goalgen.dev](https://goalgen.dev)*
